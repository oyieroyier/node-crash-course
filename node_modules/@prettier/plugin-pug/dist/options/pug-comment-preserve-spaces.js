"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatPugCommentPreserveSpaces = exports.PUG_COMMENT_PRESERVE_SPACES_OPTION = void 0;
const constants_1 = require("./constants");
exports.PUG_COMMENT_PRESERVE_SPACES_OPTION = {
    since: '1.6.0',
    category: constants_1.CATEGORY_PUG,
    type: 'choice',
    default: 'keep-all',
    description: 'Change behavior of spaces within comments.',
    choices: [
        {
            value: 'keep-all',
            description: 'Keep all spaces within comments. Example: `//    this  is   a   comment`',
        },
        {
            value: 'keep-leading',
            description: 'Keep leading spaces within comments. Example: `//    this is a comment`',
        },
        {
            value: 'trim-all',
            description: 'Trim all spaces within comments. Example: `// this is a comment`',
        },
    ],
};
function formatPugCommentPreserveSpaces(input, pugCommentPreserveSpaces, pipeless = false) {
    switch (pugCommentPreserveSpaces) {
        case 'keep-leading': {
            let result = '';
            let firstNonSpace = 0;
            for (firstNonSpace; firstNonSpace < input.length && input[firstNonSpace] === ' '; firstNonSpace++) {
                result += ' ';
            }
            result += input.slice(firstNonSpace).trim().replace(/\s\s+/g, ' ');
            return result;
        }
        case 'trim-all': {
            let result = input.trim();
            result = result.replace(/\s\s+/g, ' ');
            if (!pipeless && input[0] === ' ') {
                result = ` ${result}`;
            }
            return result;
        }
        case 'keep-all':
        default:
            return input;
    }
}
exports.formatPugCommentPreserveSpaces = formatPugCommentPreserveSpaces;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVnLWNvbW1lbnQtcHJlc2VydmUtc3BhY2VzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL29wdGlvbnMvcHVnLWNvbW1lbnQtcHJlc2VydmUtc3BhY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLDJDQUEyQztBQUc5QixRQUFBLGtDQUFrQyxHQUM3QztJQUNFLEtBQUssRUFBRSxPQUFPO0lBQ2QsUUFBUSxFQUFFLHdCQUFZO0lBQ3RCLElBQUksRUFBRSxRQUFRO0lBQ2QsT0FBTyxFQUFFLFVBQVU7SUFDbkIsV0FBVyxFQUFFLDRDQUE0QztJQUN6RCxPQUFPLEVBQUU7UUFDUDtZQUNFLEtBQUssRUFBRSxVQUFVO1lBQ2pCLFdBQVcsRUFDVCwwRUFBMEU7U0FDN0U7UUFDRDtZQUNFLEtBQUssRUFBRSxjQUFjO1lBQ3JCLFdBQVcsRUFDVCx5RUFBeUU7U0FDNUU7UUFDRDtZQUNFLEtBQUssRUFBRSxVQUFVO1lBQ2pCLFdBQVcsRUFDVCxrRUFBa0U7U0FDckU7S0FDRjtDQUNGLENBQUM7QUFhSixTQUFnQiw4QkFBOEIsQ0FDNUMsS0FBYSxFQUNiLHdCQUFrRCxFQUNsRCxXQUFvQixLQUFLO0lBRXpCLFFBQVEsd0JBQXdCLEVBQUU7UUFDaEMsS0FBSyxjQUFjLENBQUMsQ0FBQztZQUNuQixJQUFJLE1BQU0sR0FBVyxFQUFFLENBQUM7WUFDeEIsSUFBSSxhQUFhLEdBQVcsQ0FBQyxDQUFDO1lBQzlCLEtBQ0UsYUFBYSxFQUNiLGFBQWEsR0FBRyxLQUFLLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLEVBQzVELGFBQWEsRUFBRSxFQUNmO2dCQUNBLE1BQU0sSUFBSSxHQUFHLENBQUM7YUFDZjtZQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDbkUsT0FBTyxNQUFNLENBQUM7U0FDZjtRQUNELEtBQUssVUFBVSxDQUFDLENBQUM7WUFDZixJQUFJLE1BQU0sR0FBVyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDakMsTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUM7YUFDdkI7WUFDRCxPQUFPLE1BQU0sQ0FBQztTQUNmO1FBQ0QsS0FBSyxVQUFVLENBQUM7UUFDaEI7WUFFRSxPQUFPLEtBQUssQ0FBQztLQUNoQjtBQUNILENBQUM7QUFoQ0Qsd0VBZ0NDIn0=